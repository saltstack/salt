fixed extend being to strict and wanting the system_type to exist when it is only needed for requisites.
