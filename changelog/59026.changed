Add extra onfail req check in the state engine to allow onfail to be used with onchanges and other reqs in the same state
