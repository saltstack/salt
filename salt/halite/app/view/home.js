// Generated by CoffeeScript 1.6.3
(function() {
  var mainApp,
    __hasProp = {}.hasOwnProperty;

  mainApp = angular.module("MainApp");

  mainApp.controller('HomeCtlr', [
    '$scope', '$location', '$route', 'Configuration', 'AppPref', 'Itemizer', function($scope, $location, $route, Configuration, AppPref, Itemizer) {
      $scope.location = $location;
      $scope.route = $route;
      $scope.winLoc = window.location;
      $scope.errorMsg = "";
      $scope.config = Configuration;
      $scope.isArray = angular.isArray;
      $scope.isObject = function(obj) {
        return angular.isObject(obj) && !angular.isArray(obj);
      };
      $scope.isNumber = angular.isNumber;
      $scope.isBoolean = function(obj) {
        if ((obj != null) && Object.prototype.toString.call(obj) === "[object Boolean]") {
          return true;
        }
        return false;
      };
      $scope.fixNumber = function(obj) {
        if (!obj) {
          return 0;
        }
        return obj;
      };
      $scope.updatePrefs = function() {
        var key, prefs, val, _results;
        prefs = $scope.prefs.unitemize();
        _results = [];
        for (key in prefs) {
          if (!__hasProp.call(prefs, key)) continue;
          val = prefs[key];
          _results.push(AppPref.set(key, val));
        }
        return _results;
      };
      $scope.resetPrefs = function() {
        AppPref.clear();
        AppPref.reload();
        return $scope.prefs.reload(AppPref.getAll(), true);
      };
      $scope.prefs = new Itemizer(AppPref.getAll(), true);
      return true;
    }
  ]);

}).call(this);
