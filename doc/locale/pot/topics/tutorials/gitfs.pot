# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2013 SaltStack, Inc.
# This file is distributed under the same license as the Salt package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Salt 0.17.0-848-g77b77a3\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-10-12 23:19+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../topics/tutorials/gitfs.rst:8
# 294fec853f1242f8a61f34545f6ba2b4
msgid "GitFS Backend Walkthrough"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:10
# bf87f50ae422446abdb2326b51dcea3a
msgid "While the default location of the salt state tree is on the Salt master, in /srv/salt, the master can create a bridge to external resources for files. One of these resources is the ability for the master to directly pull files from a git repository and serve them to minions."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:17
# b496c81fd42f47bdaaeb4dec4da33cbb
msgid "This walkthrough assumes basic knowledge of Salt. To get up to speed, check out the :doc:`walkthrough </topics/tutorials/walkthrough>`."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:20
# eaf50938b9c8494aa0de56ab9a6e1622
msgid "The gitfs backend hooks into any number of remote git repositories and caches the data from the repository on the master. This makes distributing a state tree to multiple masters seamless and automated."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:24
# ac40b4e432f24ab7a703c797dca18050
msgid "Salt's file server also has a concept of environments, when using the gitfs backend, Salt translates git branches and tags into environments, making environment management very simple. Just merging a QA or staging branch up to a production branch can be all that is required to make those file changes available to Salt."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:31
# 07dbb40ff3ec4d4580577a80ba4d0d76
msgid "Simple Configuration"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:33
# bd8fb62dc3094545bdecd7ffb7ef15ce
msgid "To use the gitfs backend only two configuration changes are required on the master. The ``fileserver_backend`` option needs to be set with a value of ``git``:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:42
# 7b951d41cc6841dc87153626f4dabfac
msgid "To configure what fileserver backends will be searched for requested files."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:44
# cc38a71ca3884ea5b1d844f15636e39d
msgid "Now the gitfs system needs to be configured with a remote:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:53
# 9deae06c11d5428cbe2798bedafc5d4e
msgid "The salt-states repo is not currently updated with the latest versions of the available states. Please review https://github.com/saltstack-formulas for the latest versions."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:58
# bb0d03dd48e4419e85cdd8d2aba5b3ae
msgid "These changes require a restart of the master, then the git repo will be cached on the master and new requests for the ``salt://`` protocol will send files found in the remote git repository via the master."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:64
# fdb0ce633d614a4cb85c943c233b0db0
msgid "The master caches the files from the git server and serves them out, minions do not connect directly to the git server meaning that only requested files are delivered to minions."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:69
# 68c1db30656641568ecd1fa454f030fc
msgid "Multiple Remotes"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:71
# 9e1f96d8cf6446c8878ea84425382eb0
msgid "The ``gitfs_remotes`` option can accept a list of git remotes, the remotes are then searched in order for the requested file. A simple scenario can illustrate this behavior."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:75
# 9f2f6670de73469f9ff5a85c654bf54a
msgid "Assuming that the ``gitfs_remotes`` option specifies three remotes:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:86
# 73b20e5a5d654ea7a835b4d3d1b34fee
msgid "This example is purposefully contrived to illustrate the behavior of the gitfs backend. This example should not be read as a recommended way to lay out files and git repos."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:92
# 39ee673536fd4180b95cf82c5589687c
msgid "The :strong:`file://` prefix denotes a git repository in a local directory. However, it will still use the given :strong:`file://` URL as a remote, rather than copying the git repo to the salt cache.  This means that any refs you want accessible must exist as *local* refs in the specified repo."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:97
# 033773f40fdf43828474b20fa4c12b8c
msgid "Assume that each repository contains some files:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:115
# 6efa4c2acddd472dba65b3c48b907d60
msgid "The repositories will be searched for files by the master in the order in which they are defined in the configuration, Therefore the remote :strong:`git://github.com/example/first.git` will be searched first, if the requested file is found then it is served and no further searching is executed. This means that if the file :strong:`salt://haproxy/init.sls` is requested then it will be pulled from the :strong:`git://github.com/example/second.git` git repo. If :strong:`salt://haproxy/haproxy.conf` is requested then it will be pulled from the third repo."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:125
# dddf6b0bd13b4e0292e1148a2f5d524b
msgid "Serving from a Subdirectory"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:127
# d74a74a942c44b4192a529093671807c
msgid "The ``gitfs_root`` option gives the ability to serve files from a subdirectory within the repository. The path is defined relative to the root of the repository."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:131
# 849f1bc31e4547228e9b04bfbb8c0ad5
msgid "With this repository structure:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:143
# 07d4f17ffa4e452fa59a5614bfb104b8
msgid "Configuration and files can be accessed normally with:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:150
# 03c163f58d4e410799c0e8f789bd1f63
msgid "Multiple Backends"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:152
# b91f3a99350f4fdab7976b651c2ab03a
msgid "Sometimes it may make sense to use multiple backends. For instance, if sls files are stored in git, but larger files need to be stored directly on the master."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:156
# 73bd123b4c98483c9c4469ca8c7c5e4e
msgid "The logic used for multiple remotes is also used for multiple backends. If the ``fileserver_backend`` option contains multiple backends:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:165
# c46150bc93b340b38292cd46ec791574
msgid "Then the ``roots`` backend (the default backend of files in ``/srv/salt``) will be searched first for the requested file, then if it is not found on the master the git remotes will be searched."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:170
# e3e1233963d64e67b5989e8b87e3bdfb
msgid "Branches, environments and top.sls files"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:172
# d754cba6b8e64b79828a4bb259b837a2
msgid "As stated above, when using the ``gitfs`` backend, branches will be mapped to environments using the branch name as identifier. There is an exception to this rule thought: the ``master`` branch is implicitly mapped to the ``base`` environment. Therefore, for a typical ``base``, ``qa``, ``dev`` setup, you'll have to create the following branches:"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:185
# 61b96a3896bb4532ac68af3a5f0a1c42
msgid "Also, ``top.sls`` files from different branches will be merged into one big file at runtime. Since this could lead to hardly manageable configurations, the recommended setup is to have the ``top.sls`` file only in your master branch, and use environment-specific branches for states definitions."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:192
# aeb02140462e4d7ea1022cbcecd93fbf
msgid "GitFS Remotes over SSH"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:194
# e50140199b5c4e22b46bced4d5d9e6ac
msgid "In order to configure a ``gitfs_remotes`` repository over SSH transport the ``git+ssh`` URL form must be used."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:202
# c0a4668f43d841f2997e3e950fd51f44
msgid "The private key used to connect to the repository must be located in ``~/.ssh/id_rsa`` for the user running the salt-master."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:207
# 3ec73a963ac24c79b467cd587d4da59f
msgid "GitFS requires the Python module ``GitPython``, version 0.3.0 or newer."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:212
# 0014bf8562594a4baa8209d7bf26897b
msgid "Why aren't my custom modules/states/etc. syncing to my Minions?"
msgstr ""

#: ../../topics/tutorials/gitfs.rst:214
# 7ec8bafad26d40729b11dce08e52ded4
msgid "In versions 0.16.3 and older, when using the :doc:`git fileserver backend </topics/tutorials/gitfs>`, certain versions of GitPython may generate errors when fetching, which Salt fails to catch. While not fatal to the fetch process, these interrupt the fileserver update that takes place before custom types are synced, and thus interrupt the sync itself. Try disabling the git fileserver backend in the master config, restarting the master, and attempting the sync again."
msgstr ""

#: ../../topics/tutorials/gitfs.rst:222
# b0d46c6a53184648a811e5e480bb6469
msgid "This issue is worked around in Salt 0.16.4 and newer."
msgstr ""

