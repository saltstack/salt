=========================
Salt 0.10.5 Release Notes
=========================

Salt 0.10.5 is ready, and comes with some great new features. A few more
interfaces have been modularized, like the outputter system. The job cache
system has been made more powerful and can now use external databases to
store and retrive jobs over a long period. The returner system has been
extended to allow minions to easily retrive data from a returner interface.

As usual, this is an exciting release, with many noteworth additions!

Major Features
==============

External Job Cache
------------------

The external job cache is a system which allows for a returner interface to
also act as a job cache. This system is intended to allow users to store
job information in a central location for longer periods of time and to make
the act of looking up information from jobs executed on other minions easier.

Currently the external job cache is supported via the mongo and redis
returners:

.. code-block:: yaml

    ext_job_cache: redis
    redis.host: salt

Once the external job cache is turned on the new `ret` module can be used on
the minions to retrive return information from the job cache. This can be a
great way for minions to respond and react to other minions.

Open Stack Additions
--------------------

Many new additions for openstack integration have been added as Salt marches
forward with integrating with Open Stack. The new `nova`, `glance` and
`keystone` modules represent the begining of ongoing Open Stack integration.

The Salt team has had many conversations with core Open Stack developers and
is working on linking to Open Stack in powerful new ways.

Wheel System
------------

A new API was added to the Salt master wich allows the master to be managed
via an external API. This new system, allows Salt API to easily hook into the
Salt Master and manage configs, modify the state tree, manage the pillar and
more. The main motivation for the wheel system is to enable features needed
in the upcoming web ui so users can manage the master just as easily as they
manage minions.

The wheel system has also been hooked into the external auth system. This
allows specific users to have granular access to manage components of the
Salt Master.

Render Pipes
------------

Jack Kuan has added a substantial new feature. The render pipes system allows
Salt to treat the render system like unix pipes. This new system enables sls
files to be passed through specific render engines. While the default renderer
is still recommended, different engines can be more easily merged. So to pipe
the output of mako used in YAML use this shebang line:

#!mako|yaml

Salt Key Overhaul
-----------------

The Salt Key system was originally developed as only a cli interface, but as
time streched on it was pressed into becoming a clumsy API. This release
marks a complete overhaul of Salt Key. Salt Key has been rewritten to funciton
purely from an api and to use the outputter system. The benefit here is that
the outputter system works much more cleanly with Salt Key now, and the
internals of Salt cey can be used much more cleanly.

Modular Outputters
------------------

The outputter system is now loaded in a modular way. This means that output
systems can be more easily added by dropping a python file down on the master
that contains the function `output`.

Unified Module Configuration
----------------------------

In past releases of Salt, the minion configuration files needed to be
configured for certian modules to function. This was difficult because
it required pre-configuraing the minions. 0.10.5 changes this by making
all module configs on minions search the master config file for values.

Now if a single database server is needed, then it can be defined in the
master config and all minions will become aware of the configuration value.

Salt Call Enhancements
----------------------

The ``salt-call`` command has been updated in a few ways. Now, ``salt-call``
can take the --return option to send the data to a returner. Also,
``salt-call`` now reports executions in the minion proc system, this
allows the master to be aware of the operation salt-call is running.

Death to pub_refresh and sub_timeout
------------------------------------

The old configuration values `pub_refresh` and `sub_timeout` have been removed.
These systems were in place to alleviate problems found in earlier versions of
ZeroMQ which have since been fixed, the continued use of these systems has
proven to cause problems with message passing and have been completely removed.

Git Revision Versions
---------------------

When running Salt directly from git (for testing or development, of course)
it has been difficult to know exactly what code is being executed. The new
versioning system will detect the git revision when building and how many
commits have been made since the last release. A release from git will look
like this:

0.10.4-736-gec74d69

Noteworthy Changes
==================

Arch Linux Defaults to Systemd
------------------------------

Arch Linux recently changed to use systemd by default and discontinued support
of init srcipts. Salt has followed suit and defaults to systemd now for
manageing services in Arch.
